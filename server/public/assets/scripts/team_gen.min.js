/*! prime_team_generator 2015-08-06 */
function findMaxTeams(a){maxTeams=a.length/2}function createTeamSizeBtns(a){for(var b=2;a>=b;b++)$(".team-size").append('<button class="team-request btn" data-teamsize="'+b+'">'+b+"</button>");$(".team-size").append('<div class="submit-area"><button class="randomizer btn">Randomize</button></div>')}function studentsToTeams(a){1==teamByStudentNum&&(a=gammaStudentArray.length/a);for(var b=1;a>=b;b++)$(".teams").append('<div class="team col-md-2 col-sm-3 col-xs-6" data-teamid="'+b+'"><h3>Team '+b+"</h3></div>");for(var c=1,b=0;b<gammaStudentArray.length;b++)c>a&&(c=1),$('[data-teamid="'+c+'"]').append("<p>"+gammaStudentArray[b]+"</p>"),$('[data-teamid="'+c+'"] p').last().hide().delay(80*b).slideDown(),c++}var teamNum,gammaStudentArray=[],maxTeams,teamByStudentNum=!1;Array.prototype.shuffle=function(){for(var a=this,b=a.length-1;b>=0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[c];a[c]=a[b],a[b]=d}return a},$(document).ready(function(a){function b(){a.ajax({url:"/data",success:function(b){a.each(b,function(a){gammaStudentArray.push(this.name)}),findMaxTeams(gammaStudentArray),createTeamSizeBtns(maxTeams),console.log("In the Complete: "+maxTeams)}})}b(),a("body").on("click",".num-teams",function(){a(this).parent().children().removeClass("selected"),a(this).addClass("selected"),teamByStudentNum=!1}),a("body").on("click",".num-students",function(){a(this).parent().children().removeClass("selected"),a(this).addClass("selected"),teamByStudentNum=!0}),a("body").on("click",".team-request",function(){a(".team-request").removeClass("selected"),a(this).addClass("selected"),teamNum=a(this).data("teamsize")}),a("body").on("click",".randomizer",function(){a(".error-msg").remove(),gammaStudentArray=gammaStudentArray.shuffle(),a(".teams").html(""),teamNum?studentsToTeams(teamNum):(teamByStudentNum?a(this).after('<div class="error-msg">Please select a number of students</div>').fadeIn():a(this).after('<div class="error-msg">Please select a number of teams</div>').fadeIn(),a(".error-msg").hide().fadeIn(600))})});